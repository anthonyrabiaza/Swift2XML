# Swift2XML

This Framework allows the parsing and manipulation of Swift messages in Dell Boomi Integration Platform.
The Framework is generic and support all Swift Message Types.

## Getting Started

Please pull the sources from github and load in Eclipse (Java Project)

### Prerequisites in Boomi

#### Creation of Custom Library

Upload the following jar file to Setup>Account>Libraries:
- gson-*version*.jar
- pw-swift-core-*version*.jar
- swift2xml-*version*.jar

The jars are inside lib and jar folder, the common-lang library is not required as it is already bundle with the Boomi Atom.

And then create a Custom Library (you can call it Script_Swift2XML) with the three library

![Alt text](resources/Boomi_Custom_Library.png?raw=true "Swift2XML")

The latest versions of the first two jars are available here: https://sourceforge.net/projects/wife/

Once created, *please deploy* the Custom Library to the Molecule/Atom where you will like to test the Framework

#### Creation of XML Profile 
Create a one XML Profile based on MT103.xml (in the project) or based on generated XML using Swift2XML (open the JUnit class and create a new testcase)

![Alt text](resources/Boomi_XML_Profile.png?raw=true "Swift2XML")

### Use of Swift2XML in a Process

In your Boomi process, you need to use the "Data Processing Shape" with Custom Scripting step.

Only 4 lines of code (copy/paste) are required.

#### Adding *import* after the two default import statements

```
import com.boomi.proserv.swift.SwiftToXML;
```

#### Converting
1. From Swift to XML
	Adding the following snippet before the last command (``dataContext.storeStream(is, props);``)
	
```
  String swift = SwiftToXML.inputStreamToString(is);
  String xml   = SwiftToXML.parseSwift(swift);
  
  is = SwiftToXML.stringToInputStream(xml);
```

2. From XML to Swift

```
  String xml   = SwiftToXML.inputStreamToString(is);
  String swift = SwiftToXML.parseXML(xml);
  
  is = SwiftToXML.stringToInputStream(swift);
```

### Example of a process Process

The following process read different Swift message types from the Disk, get the Message with type 103 and remove the 71A tag.
 
![Alt text](resources/Boomi_Process.png?raw=true "Swift2XML")

#### Decision using the message type

![Alt text](resources/Boomi_Decision_Shape.png?raw=true "Swift2XML")

#### Removing a tag

![Alt text](resources/Map_Remove_Tag.png?raw=true "Swift2XML")

#### Execution view

![Alt text](resources/Boomi_Process_Execution.png?raw=true "Swift2XML")

#### Execution view - Input Swift Message (type 103)

![Alt text](resources/Document_Viewer_Swift.png?raw=true "Swift2XML")

Please note the presence of the last element in block 4:

```
:71A:SHA
```

#### Execution view - XML Message generated by Swift2XML

![Alt text](resources/Document_Viewer_XML.png?raw=true "Swift2XML")

#### Execution view - Swift Message generated by Swift2XML after removing the tag

![Alt text](resources/Document_Viewer_Swift_after_Remove.png?raw=true "Swift2XML")
